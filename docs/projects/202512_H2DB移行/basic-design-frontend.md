# フロントエンド基本設計書

## 案件情報

| 項目 | 内容 |
|------|------|
| 案件名 | H2 Database移行 |
| 案件ID | 202512_H2DB移行 |
| 作成日 | 2025-12-22 |
| 関連要件整理書 | [requirements.md](./requirements.md) |

---

## 1. 概要

### 1.1 本設計書の目的

H2 Database移行案件におけるフロントエンドへの影響を明確にする。

### 1.2 結論：変更なし

**本案件においてフロントエンドの変更は発生しない。**

| 項目 | 内容 |
|------|------|
| 変更有無 | **なし** |
| 理由 | バックエンドのデータ永続化層のみの変更であり、APIインターフェースは維持されるため |

---

## 2. 影響分析

### 2.1 変更なしの根拠

| 観点 | 現状 | 移行後 | 影響 |
|------|------|--------|------|
| APIエンドポイント | /api/todos/* | /api/todos/* | なし |
| HTTPメソッド | GET/POST/PUT/PATCH/DELETE | GET/POST/PUT/PATCH/DELETE | なし |
| リクエスト形式 | JSON | JSON | なし |
| レスポンス形式 | JSON | JSON | なし |
| レスポンスデータ構造 | Todo Object | Todo Object | なし |

### 2.2 API互換性

#### リクエスト/レスポンス（変更なし）

**Todo取得レスポンス**:
```json
{
  "id": 1,
  "title": "タスク名",
  "description": "説明",
  "completed": false,
  "createdAt": "2025-12-22T10:00:00"
}
```

**統計情報レスポンス**:
```json
{
  "total": 3,
  "completed": 1,
  "pending": 2
}
```

上記のJSON構造は移行後も完全に維持される。

---

## 3. 現行フロントエンド仕様（参考）

### 3.1 技術構成

| 項目 | 技術 |
|------|------|
| マークアップ | HTML5 (index.html) |
| スタイル | CSS3 (インラインまたは外部) |
| スクリプト | Vanilla JavaScript |
| API通信 | Fetch API |

### 3.2 画面構成

| ID | 画面名 | パス | 概要 |
|----|--------|------|------|
| SC-001 | ToDoリスト画面 | / | ToDo一覧表示・操作 |

### 3.3 主要機能

| 機能 | API呼び出し | 影響 |
|------|------------|------|
| ToDo一覧表示 | GET /api/todos | なし |
| ToDo作成 | POST /api/todos | なし |
| ToDo更新 | PUT /api/todos/{id} | なし |
| 完了切替 | PATCH /api/todos/{id}/toggle | なし |
| ToDo削除 | DELETE /api/todos/{id} | なし |
| 統計表示 | GET /api/todos/stats | なし |
| フィルタ | GET /api/todos?completed=true/false | なし |

---

## 4. 確認事項

### 4.1 動作確認項目

本案件完了後、以下の動作が従来通り機能することを確認する。

| 確認項目 | 確認方法 |
|---------|---------|
| ToDo一覧が表示される | 画面アクセス |
| 新規ToDoを作成できる | フォーム入力・送信 |
| ToDoを編集できる | 編集操作 |
| 完了状態を切り替えられる | チェックボックス操作 |
| ToDoを削除できる | 削除ボタン操作 |
| フィルタが動作する | フィルタボタン操作 |
| 統計情報が表示される | 画面確認 |

### 4.2 テスト方針

- フロントエンド固有のテストは不要
- 統合テスト（E2Eテスト）で画面動作を確認
- 手動での画面操作確認を実施

---

## 5. 備考

### 5.1 将来の変更可能性

本案件ではフロントエンド変更なしだが、将来的に以下の変更が検討される場合はフロントエンド改修が必要となる。

| 将来検討事項 | フロントエンド影響 |
|-------------|-----------------|
| ページネーション追加 | API呼び出しパラメータ追加 |
| ソート機能追加 | API呼び出しパラメータ追加 |
| 検索機能追加 | 検索UI・API呼び出し追加 |
| リアルタイム更新 | WebSocket対応 |

これらは本案件のスコープ外である。

---

## 改版履歴

| 版数 | 日付 | 変更内容 | 変更者 |
|------|------|----------|--------|
| 1.0 | 2025-12-22 | 初版作成（変更なしを明記） | - |
