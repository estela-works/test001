# API詳細設計書

## 案件情報

| 項目 | 内容 |
|------|------|
| 案件名 | H2 Database移行 |
| 案件ID | 202512_H2DB移行 |
| 作成日 | 2025-12-22 |
| 関連基本設計書 | [basic-design-backend.md](./basic-design-backend.md) |

---

## 1. 概要

### 1.1 本設計書の目的

REST APIエンドポイントの詳細仕様を定義する。

### 1.2 スコープ

| 項目 | 内容 |
|------|------|
| 変更有無 | **なし（スコープ対象外）** |
| 理由 | 本案件はデータ永続化層の変更であり、APIインターフェースに変更はない |

---

## 2. 変更なしの確認

### 2.1 維持される仕様

本案件において、以下のAPI仕様はすべて維持される。

| 項目 | 維持内容 |
|------|---------|
| エンドポイント | すべて変更なし |
| HTTPメソッド | すべて変更なし |
| リクエスト形式 | すべて変更なし |
| レスポンス形式 | すべて変更なし |
| ステータスコード | すべて変更なし |
| バリデーション | すべて変更なし |

### 2.2 エンドポイント一覧（参考）

| メソッド | パス | 機能 | 変更 |
|---------|------|------|------|
| GET | /api/todos | 全ToDo取得 | なし |
| GET | /api/todos?completed={bool} | フィルタ取得 | なし |
| GET | /api/todos/{id} | ID指定取得 | なし |
| POST | /api/todos | ToDo作成 | なし |
| PUT | /api/todos/{id} | ToDo更新 | なし |
| PATCH | /api/todos/{id}/toggle | 完了切替 | なし |
| DELETE | /api/todos/{id} | ToDo削除 | なし |
| DELETE | /api/todos | 全ToDo削除 | なし |
| GET | /api/todos/stats | 統計情報取得 | なし |

---

## 3. 詳細設計が必要な場合

本案件ではAPI変更がないため、詳細設計は省略する。

将来APIの追加・変更が発生する場合は、以下の項目を設計する。

- リクエスト/レスポンス詳細
- バリデーションルール
- エラーハンドリング
- 処理フロー

---

## 改版履歴

| 版数 | 日付 | 変更内容 | 変更者 |
|------|------|----------|--------|
| 1.0 | 2025-12-22 | 初版作成（スコープ対象外を明記） | - |
