# SQL詳細設計書

## 案件情報

| 項目 | 内容 |
|------|------|
| 案件名 | <!-- 案件名を記載 --> |
| 案件ID | <!-- YYYYMM_案件名 --> |
| 作成日 | <!-- YYYY-MM-DD --> |
| 関連基本設計書 | [basic-design-backend.md](./basic-design-backend.md) |

---

## 1. 概要

### 1.1 本設計書の目的

データアクセス層のSQLクエリ仕様を定義する。

### 1.2 対象コンポーネント

| レイヤー | コンポーネント | 責務 |
|---------|---------------|------|
| Repository | <!-- クラス名 --> | データアクセス |
| Mapper | <!-- クラス名 --> | SQLマッピング |

---

## 2. クエリ一覧

| ID | クエリ名 | 種別 | 対象テーブル | 概要 |
|----|---------|------|-------------|------|
| Q-001 | <!-- クエリ名 --> | SELECT/INSERT/UPDATE/DELETE | <!-- テーブル名 --> | <!-- 概要 --> |

---

## 3. クエリ詳細

### 3.1 Q-001: クエリ名

| 項目 | 内容 |
|------|------|
| 種別 | SELECT |
| 対象テーブル | <!-- テーブル名 --> |
| 概要 | <!-- 処理概要 --> |
| 呼び出し元 | <!-- Repository.メソッド名 --> |

#### SQL

```sql
SELECT
    column1,
    column2
FROM
    table_name
WHERE
    condition = :param
ORDER BY
    column1;
```

#### パラメータ

| パラメータ | 型 | 必須 | 説明 |
|-----------|-----|------|------|
| param | String | 要 | <!-- 説明 --> |

#### 結果

| カラム | 型 | 説明 |
|--------|-----|------|
| column1 | VARCHAR | <!-- 説明 --> |
| column2 | INTEGER | <!-- 説明 --> |

#### 実行計画（参考）

```
<!-- EXPLAIN結果を記載 -->
```

---

## 4. インデックス利用

### 4.1 利用インデックス

| クエリID | 使用インデックス | 備考 |
|---------|-----------------|------|
| Q-001 | idx_table_column1 | WHERE句で使用 |

---

## 5. パフォーマンス考慮

### 5.1 注意事項

| クエリID | 注意点 | 対策 |
|---------|--------|------|
| Q-001 | <!-- 注意点 --> | <!-- 対策 --> |

### 5.2 想定データ量

| テーブル | 想定レコード数 | 備考 |
|---------|---------------|------|
| <!-- テーブル名 --> | <!-- 件数 --> | <!-- 備考 --> |

---

## 改版履歴

| 版数 | 日付 | 変更内容 | 変更者 |
|------|------|----------|--------|
| 1.0 | YYYY-MM-DD | 初版作成 | <!-- 担当者名 --> |
