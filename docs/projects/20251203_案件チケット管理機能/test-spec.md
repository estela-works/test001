# テスト仕様書

## 案件情報

| 項目 | 内容 |
|------|------|
| 案件名 | 案件チケット管理機能 |
| 案件ID | 20251203_案件チケット管理機能 |
| 作成日 | 2025-12-22 |
| 作成者 | - |
| 関連詳細設計書 | [detail-design-api.md](./detail-design-api.md), [detail-design-logic.md](./detail-design-logic.md) |

---

## 1. テスト概要

### 1.1 テスト対象

| 対象 | 変更種別 | 概要 |
|------|----------|------|
| ProjectService | 新規 | 案件のCRUD操作とビジネスロジック |
| ProjectController | 新規 | 案件APIエンドポイント |
| TodoService | 変更 | 案件フィルタ、日付バリデーション追加 |
| TodoController | 変更 | projectIdパラメータ対応 |
| Project | 新規 | 案件エンティティ |
| Todo | 変更 | projectId, startDate, dueDateフィールド追加 |

### 1.2 テスト方針

- 各メソッドに対して正常系・異常系・境界値のテストケースを定義
- JUnit 5 + AssertJ + MockitoまたはSpring Boot Testでテストを実装
- `@SpringBootTest` + `@Transactional` でDBテストを実施
- 案件削除のカスケード動作を重点的にテスト
- 日付バリデーションの境界値を確認

---

## 2. 単体テスト

### 2.1 ProjectServiceTest（新規）

**テスト対象**: `com.example.demo.ProjectService`

---

#### getAllProjects() - 案件一覧取得

##### TC-PS-001: 案件一覧取得 - 正常系

| 項目 | 内容 |
|------|------|
| テストケースID | TC-PS-001 |
| テスト観点 | 登録済み案件が作成日時降順で取得できること |
| 分類 | 正常系 |
| 前提条件 | 案件が2件存在 |
| 入力値 | なし |
| 期待結果 | 2件が作成日時降順で返却される |

##### TC-PS-002: 案件一覧取得 - 0件

| 項目 | 内容 |
|------|------|
| テストケースID | TC-PS-002 |
| テスト観点 | 案件が0件の場合、空リストが返却されること |
| 分類 | 境界値 |
| 前提条件 | 案件が0件 |
| 入力値 | なし |
| 期待結果 | 空のリストが返却される |

---

#### getProjectById(Long id) - 案件詳細取得

##### TC-PS-003: 存在するIDで取得

| 項目 | 内容 |
|------|------|
| テストケースID | TC-PS-003 |
| テスト観点 | 存在するIDで案件が取得できること |
| 分類 | 正常系 |
| 前提条件 | ID=1の案件が存在 |
| 入力値 | id=1 |
| 期待結果 | 該当のProjectが返却される |

##### TC-PS-004: 存在しないIDで取得

| 項目 | 内容 |
|------|------|
| テストケースID | TC-PS-004 |
| テスト観点 | 存在しないIDでnullが返却されること |
| 分類 | 異常系 |
| 前提条件 | ID=999は存在しない |
| 入力値 | id=999 |
| 期待結果 | nullが返却される |

---

#### createProject(Project project) - 案件作成

##### TC-PS-005: 正常な案件作成

| 項目 | 内容 |
|------|------|
| テストケースID | TC-PS-005 |
| テスト観点 | 案件が正常に作成されIDが付与されること |
| 分類 | 正常系 |
| 前提条件 | name, descriptionを設定 |
| 入力値 | name="新規案件", description="説明" |
| 期待結果 | IDが自動採番され、作成されたProjectが返却される |

##### TC-PS-006: 説明なしで案件作成

| 項目 | 内容 |
|------|------|
| テストケースID | TC-PS-006 |
| テスト観点 | descriptionがnullでも作成できること |
| 分類 | 正常系 |
| 前提条件 | nameのみ設定 |
| 入力値 | name="案件名", description=null |
| 期待結果 | 案件が作成される |

---

#### updateProject(Long id, Project updatedProject) - 案件更新

##### TC-PS-007: 存在する案件を更新

| 項目 | 内容 |
|------|------|
| テストケースID | TC-PS-007 |
| テスト観点 | 更新内容が正しく反映されること |
| 分類 | 正常系 |
| 前提条件 | ID=1が存在 |
| 入力値 | id=1, 更新内容 |
| 期待結果 | 更新されたProjectが返却、name/descriptionが変更される |

##### TC-PS-008: 存在しないIDで更新

| 項目 | 内容 |
|------|------|
| テストケースID | TC-PS-008 |
| テスト観点 | 存在しないIDでnullが返却されること |
| 分類 | 異常系 |
| 前提条件 | ID=999は存在しない |
| 入力値 | id=999 |
| 期待結果 | nullが返却される |

---

#### deleteProject(Long id) - 案件削除

##### TC-PS-009: 案件削除（配下チケットなし）

| 項目 | 内容 |
|------|------|
| テストケースID | TC-PS-009 |
| テスト観点 | 配下チケットなしの案件が削除できること |
| 分類 | 正常系 |
| 前提条件 | ID=1が存在、配下チケット0件 |
| 入力値 | id=1 |
| 期待結果 | 削除されたProjectが返却、案件数が減少 |

##### TC-PS-010: 案件削除（配下チケットあり） - カスケード削除

| 項目 | 内容 |
|------|------|
| テストケースID | TC-PS-010 |
| テスト観点 | 案件削除時に配下チケットも削除されること |
| 分類 | 正常系 |
| 前提条件 | ID=1に3件のチケットが紐づく |
| 入力値 | id=1 |
| 期待結果 | 案件と配下3件のチケットがすべて削除される |

##### TC-PS-011: 存在しないIDで削除

| 項目 | 内容 |
|------|------|
| テストケースID | TC-PS-011 |
| テスト観点 | 存在しないIDでnullが返却されること |
| 分類 | 異常系 |
| 前提条件 | ID=999は存在しない |
| 入力値 | id=999 |
| 期待結果 | nullが返却される |

---

#### getProjectStats(Long id) - 案件統計取得

##### TC-PS-012: 統計取得 - 全て未完了

| 項目 | 内容 |
|------|------|
| テストケースID | TC-PS-012 |
| テスト観点 | 全て未完了の場合の統計が正しいこと |
| 分類 | 正常系 |
| 前提条件 | 案件に3件のチケット（全て未完了） |
| 入力値 | id=1 |
| 期待結果 | total=3, completed=0, pending=3, progressRate=0 |

##### TC-PS-013: 統計取得 - 一部完了

| 項目 | 内容 |
|------|------|
| テストケースID | TC-PS-013 |
| テスト観点 | 一部完了の場合の統計・進捗率が正しいこと |
| 分類 | 正常系 |
| 前提条件 | 案件に10件のチケット（3件完了） |
| 入力値 | id=1 |
| 期待結果 | total=10, completed=3, pending=7, progressRate=30 |

##### TC-PS-014: 統計取得 - 全て完了

| 項目 | 内容 |
|------|------|
| テストケースID | TC-PS-014 |
| テスト観点 | 全て完了の場合の進捗率が100%であること |
| 分類 | 正常系 |
| 前提条件 | 案件に5件のチケット（全て完了） |
| 入力値 | id=1 |
| 期待結果 | total=5, completed=5, pending=0, progressRate=100 |

##### TC-PS-015: 統計取得 - チケット0件

| 項目 | 内容 |
|------|------|
| テストケースID | TC-PS-015 |
| テスト観点 | チケット0件の場合の進捗率が0%であること |
| 分類 | 境界値 |
| 前提条件 | 案件にチケット0件 |
| 入力値 | id=1 |
| 期待結果 | total=0, completed=0, pending=0, progressRate=0 |

##### TC-PS-016: 統計取得 - 進捗率の切り捨て

| 項目 | 内容 |
|------|------|
| テストケースID | TC-PS-016 |
| テスト観点 | 進捗率が小数点以下切り捨てになること |
| 分類 | 境界値 |
| 前提条件 | 案件に3件のチケット（1件完了）→ 33.33...% |
| 入力値 | id=1 |
| 期待結果 | progressRate=33（切り捨て） |

---

### 2.2 TodoServiceTest（変更分）

**テスト対象**: `com.example.demo.TodoService`

---

#### getTodosByProjectId(Long projectId) - 案件別チケット取得（新規）

##### TC-TS-001: 案件IDでフィルタ取得

| 項目 | 内容 |
|------|------|
| テストケースID | TC-TS-001 |
| テスト観点 | 指定案件のチケットのみ取得できること |
| 分類 | 正常系 |
| 前提条件 | 案件1に3件、案件2に2件のチケット |
| 入力値 | projectId=1 |
| 期待結果 | 案件1の3件のみ返却される |

##### TC-TS-002: 案件未設定チケット取得

| 項目 | 内容 |
|------|------|
| テストケースID | TC-TS-002 |
| テスト観点 | projectId=nullのチケットが取得できること |
| 分類 | 正常系 |
| 前提条件 | 未分類チケット2件、案件1に3件 |
| 入力値 | projectId=null |
| 期待結果 | 未分類の2件のみ返却される |

##### TC-TS-003: 該当チケットなし

| 項目 | 内容 |
|------|------|
| テストケースID | TC-TS-003 |
| テスト観点 | 該当チケットがない場合、空リストが返却されること |
| 分類 | 境界値 |
| 前提条件 | 案件1にチケット0件 |
| 入力値 | projectId=1 |
| 期待結果 | 空のリストが返却される |

---

#### validateDateRange(LocalDate startDate, LocalDate dueDate) - 日付バリデーション（新規）

##### TC-TS-004: 両方null - 正常

| 項目 | 内容 |
|------|------|
| テストケースID | TC-TS-004 |
| テスト観点 | 両方nullの場合、バリデーション通過すること |
| 分類 | 正常系 |
| 前提条件 | なし |
| 入力値 | startDate=null, dueDate=null |
| 期待結果 | 例外がスローされない |

##### TC-TS-005: 開始日のみ設定 - 正常

| 項目 | 内容 |
|------|------|
| テストケースID | TC-TS-005 |
| テスト観点 | 開始日のみ設定でも正常終了すること |
| 分類 | 正常系 |
| 前提条件 | なし |
| 入力値 | startDate=2025-01-01, dueDate=null |
| 期待結果 | 例外がスローされない |

##### TC-TS-006: 終了日のみ設定 - 正常

| 項目 | 内容 |
|------|------|
| テストケースID | TC-TS-006 |
| テスト観点 | 終了日のみ設定でも正常終了すること |
| 分類 | 正常系 |
| 前提条件 | なし |
| 入力値 | startDate=null, dueDate=2025-01-15 |
| 期待結果 | 例外がスローされない |

##### TC-TS-007: 開始日 < 終了日 - 正常

| 項目 | 内容 |
|------|------|
| テストケースID | TC-TS-007 |
| テスト観点 | 開始日より終了日が後の場合、正常終了すること |
| 分類 | 正常系 |
| 前提条件 | なし |
| 入力値 | startDate=2025-01-01, dueDate=2025-01-15 |
| 期待結果 | 例外がスローされない |

##### TC-TS-008: 開始日 = 終了日 - 正常

| 項目 | 内容 |
|------|------|
| テストケースID | TC-TS-008 |
| テスト観点 | 開始日と終了日が同日でも正常終了すること |
| 分類 | 境界値 |
| 前提条件 | なし |
| 入力値 | startDate=2025-01-01, dueDate=2025-01-01 |
| 期待結果 | 例外がスローされない |

##### TC-TS-009: 開始日 > 終了日 - 異常

| 項目 | 内容 |
|------|------|
| テストケースID | TC-TS-009 |
| テスト観点 | 開始日より終了日が前の場合、例外がスローされること |
| 分類 | 異常系 |
| 前提条件 | なし |
| 入力値 | startDate=2025-01-15, dueDate=2025-01-01 |
| 期待結果 | IllegalArgumentExceptionがスローされる |

---

#### createTodo(Todo todo) - チケット作成（変更）

##### TC-TS-010: 期間指定でチケット作成

| 項目 | 内容 |
|------|------|
| テストケースID | TC-TS-010 |
| テスト観点 | 開始日・終了日・案件IDを設定してチケットが作成できること |
| 分類 | 正常系 |
| 前提条件 | 案件ID=1が存在 |
| 入力値 | title="タスク", projectId=1, startDate=2025-01-01, dueDate=2025-01-15 |
| 期待結果 | 全フィールドが設定されたチケットが作成される |

##### TC-TS-011: 期間なし・案件なしでチケット作成

| 項目 | 内容 |
|------|------|
| テストケースID | TC-TS-011 |
| テスト観点 | 期間・案件未設定でもチケットが作成できること |
| 分類 | 正常系 |
| 前提条件 | なし |
| 入力値 | title="タスク", projectId=null, startDate=null, dueDate=null |
| 期待結果 | チケットが作成される（後方互換性） |

##### TC-TS-012: 不正な期間でチケット作成失敗

| 項目 | 内容 |
|------|------|
| テストケースID | TC-TS-012 |
| テスト観点 | 開始日>終了日の場合、例外がスローされること |
| 分類 | 異常系 |
| 前提条件 | なし |
| 入力値 | startDate=2025-01-15, dueDate=2025-01-01 |
| 期待結果 | IllegalArgumentExceptionがスローされる |

---

#### updateTodo(Long id, Todo updatedTodo) - チケット更新（変更）

##### TC-TS-013: 期間と案件を更新

| 項目 | 内容 |
|------|------|
| テストケースID | TC-TS-013 |
| テスト観点 | 開始日・終了日・案件IDが更新できること |
| 分類 | 正常系 |
| 前提条件 | ID=1が存在（期間・案件未設定） |
| 入力値 | id=1, projectId=2, startDate=2025-02-01, dueDate=2025-02-15 |
| 期待結果 | 更新された内容が反映される |

##### TC-TS-014: 期間をnullに更新（クリア）

| 項目 | 内容 |
|------|------|
| テストケースID | TC-TS-014 |
| テスト観点 | 期間設定済みをnullに更新できること |
| 分類 | 正常系 |
| 前提条件 | ID=1が期間設定済み |
| 入力値 | id=1, startDate=null, dueDate=null |
| 期待結果 | startDate, dueDateがnullに更新される |

---

## 3. 結合テスト（APIテスト）

### 3.1 ProjectController APIテスト

#### IT-PC-001: GET /api/projects - 案件一覧取得

| 項目 | 内容 |
|------|------|
| テストケースID | IT-PC-001 |
| テスト観点 | 案件一覧が正常に取得できること |
| エンドポイント | `GET /api/projects` |
| 前提条件 | 案件2件登録済み |
| リクエスト | なし |
| 期待結果 | ステータス: 200, レスポンス: 案件2件の配列 |

#### IT-PC-002: POST /api/projects - 案件作成成功

| 項目 | 内容 |
|------|------|
| テストケースID | IT-PC-002 |
| テスト観点 | 案件が正常に作成できること |
| エンドポイント | `POST /api/projects` |
| 前提条件 | なし |
| リクエスト | `{"name": "新規案件", "description": "説明"}` |
| 期待結果 | ステータス: 201, レスポンス: 作成された案件（ID付き） |

#### IT-PC-003: POST /api/projects - name未入力エラー

| 項目 | 内容 |
|------|------|
| テストケースID | IT-PC-003 |
| テスト観点 | name未入力で400エラーになること |
| エンドポイント | `POST /api/projects` |
| 前提条件 | なし |
| リクエスト | `{"name": "", "description": "説明"}` |
| 期待結果 | ステータス: 400 |

#### IT-PC-004: GET /api/projects/{id} - 案件詳細取得

| 項目 | 内容 |
|------|------|
| テストケースID | IT-PC-004 |
| テスト観点 | 案件詳細が正常に取得できること |
| エンドポイント | `GET /api/projects/1` |
| 前提条件 | ID=1の案件が存在 |
| リクエスト | なし |
| 期待結果 | ステータス: 200, レスポンス: 案件詳細 |

#### IT-PC-005: GET /api/projects/{id} - 存在しないID

| 項目 | 内容 |
|------|------|
| テストケースID | IT-PC-005 |
| テスト観点 | 存在しないIDで404エラーになること |
| エンドポイント | `GET /api/projects/999` |
| 前提条件 | ID=999は存在しない |
| リクエスト | なし |
| 期待結果 | ステータス: 404 |

#### IT-PC-006: DELETE /api/projects/{id} - 案件削除成功

| 項目 | 内容 |
|------|------|
| テストケースID | IT-PC-006 |
| テスト観点 | 案件が正常に削除できること |
| エンドポイント | `DELETE /api/projects/1` |
| 前提条件 | ID=1の案件が存在 |
| リクエスト | なし |
| 期待結果 | ステータス: 204 |

#### IT-PC-007: DELETE /api/projects/{id} - カスケード削除

| 項目 | 内容 |
|------|------|
| テストケースID | IT-PC-007 |
| テスト観点 | 案件削除時に配下チケットも削除されること |
| エンドポイント | `DELETE /api/projects/1` |
| 前提条件 | ID=1に3件のチケットが紐づく |
| リクエスト | なし |
| 期待結果 | ステータス: 204, 配下チケット3件も削除される |

#### IT-PC-008: GET /api/projects/{id}/stats - 統計取得

| 項目 | 内容 |
|------|------|
| テストケースID | IT-PC-008 |
| テスト観点 | 案件統計が正常に取得できること |
| エンドポイント | `GET /api/projects/1/stats` |
| 前提条件 | ID=1に5件のチケット（2件完了） |
| リクエスト | なし |
| 期待結果 | ステータス: 200, レスポンス: `{"total":5, "completed":2, "pending":3, "progressRate":40}` |

---

### 3.2 TodoController APIテスト（変更分）

#### IT-TC-001: GET /api/todos?projectId={id} - 案件別取得

| 項目 | 内容 |
|------|------|
| テストケースID | IT-TC-001 |
| テスト観点 | 案件IDでフィルタしたチケットが取得できること |
| エンドポイント | `GET /api/todos?projectId=1` |
| 前提条件 | 案件1に3件、案件2に2件のチケット |
| リクエスト | なし |
| 期待結果 | ステータス: 200, レスポンス: 案件1の3件のみ |

#### IT-TC-002: GET /api/todos?projectId=none - 未分類取得

| 項目 | 内容 |
|------|------|
| テストケースID | IT-TC-002 |
| テスト観点 | 案件未設定のチケットが取得できること |
| エンドポイント | `GET /api/todos?projectId=none` |
| 前提条件 | 未分類2件、案件1に3件 |
| リクエスト | なし |
| 期待結果 | ステータス: 200, レスポンス: 未分類の2件のみ |

#### IT-TC-003: POST /api/todos - 期間付きチケット作成

| 項目 | 内容 |
|------|------|
| テストケースID | IT-TC-003 |
| テスト観点 | 開始日・終了日付きのチケットが作成できること |
| エンドポイント | `POST /api/todos` |
| 前提条件 | 案件ID=1が存在 |
| リクエスト | `{"title": "タスク", "projectId": 1, "startDate": "2025-01-01", "dueDate": "2025-01-15"}` |
| 期待結果 | ステータス: 201, レスポンス: 全フィールドが設定されたチケット |

#### IT-TC-004: POST /api/todos - 不正な期間でエラー

| 項目 | 内容 |
|------|------|
| テストケースID | IT-TC-004 |
| テスト観点 | 開始日>終了日で400エラーになること |
| エンドポイント | `POST /api/todos` |
| 前提条件 | なし |
| リクエスト | `{"title": "タスク", "startDate": "2025-01-15", "dueDate": "2025-01-01"}` |
| 期待結果 | ステータス: 400 |

#### IT-TC-005: PUT /api/todos/{id} - 期間更新

| 項目 | 内容 |
|------|------|
| テストケースID | IT-TC-005 |
| テスト観点 | チケットの期間が更新できること |
| エンドポイント | `PUT /api/todos/1` |
| 前提条件 | ID=1が存在 |
| リクエスト | `{"title": "更新", "startDate": "2025-02-01", "dueDate": "2025-02-28"}` |
| 期待結果 | ステータス: 200, レスポンス: 更新後のチケット |

---

## 4. E2Eテスト（画面テスト）

### 4.1 案件一覧画面（SC-003）

| ID | テスト観点 | 操作 | 期待結果 |
|----|-----------|------|---------|
| E2E-P-001 | 案件一覧表示 | 画面を開く | 登録済み案件が一覧表示される |
| E2E-P-002 | 案件作成 | 名前入力→作成ボタン | 案件が追加され一覧に表示される |
| E2E-P-003 | 案件作成（名前空） | 名前未入力→作成ボタン | エラーメッセージが表示される |
| E2E-P-004 | 案件削除 | 削除ボタン→確認OK | 案件が一覧から消える |
| E2E-P-005 | 案件削除キャンセル | 削除ボタン→確認Cancel | 案件が残る |
| E2E-P-006 | チケット一覧遷移 | チケット一覧ボタン | ToDoリスト画面に遷移（案件フィルタ適用） |
| E2E-P-007 | 進捗率表示 | 案件一覧を表示 | 各案件の進捗率が正しく表示される |
| E2E-P-008 | 案件なし表示 | 画面を開く | 「案件なし」カードが表示される |

### 4.2 ToDoリスト画面（SC-002改修）

| ID | テスト観点 | 操作 | 期待結果 |
|----|-----------|------|---------|
| E2E-T-001 | 案件別表示 | ?projectId=1で遷移 | 案件1のチケットのみ表示 |
| E2E-T-002 | 未分類表示 | ?projectId=noneで遷移 | 未分類チケットのみ表示 |
| E2E-T-003 | 日付入力表示 | 画面を開く | 開始日・終了日入力欄が表示される |
| E2E-T-004 | 日付付きチケット作成 | 日付入力→追加 | 日付が設定されたチケットが作成される |
| E2E-T-005 | 期間表示 | チケット一覧を表示 | 期間が正しくフォーマットされて表示される |
| E2E-T-006 | 日付バリデーション | 終了日<開始日で追加 | エラーメッセージが表示される |
| E2E-T-007 | 案件一覧戻る | フッターリンク | 案件一覧画面に遷移 |

---

## 5. テストケース一覧

| ID | 対象 | テスト観点 | 分類 | 優先度 | ステータス |
|----|------|-----------|------|--------|-----------|
| TC-PS-001 | ProjectService.getAllProjects | 一覧取得 | 正常系 | 高 | 未実施 |
| TC-PS-002 | ProjectService.getAllProjects | 0件取得 | 境界値 | 中 | 未実施 |
| TC-PS-003 | ProjectService.getProjectById | 存在するID | 正常系 | 高 | 未実施 |
| TC-PS-004 | ProjectService.getProjectById | 存在しないID | 異常系 | 高 | 未実施 |
| TC-PS-005 | ProjectService.createProject | 正常作成 | 正常系 | 高 | 未実施 |
| TC-PS-006 | ProjectService.createProject | 説明なし | 正常系 | 中 | 未実施 |
| TC-PS-007 | ProjectService.updateProject | 正常更新 | 正常系 | 高 | 未実施 |
| TC-PS-008 | ProjectService.updateProject | 存在しないID | 異常系 | 高 | 未実施 |
| TC-PS-009 | ProjectService.deleteProject | 配下なし削除 | 正常系 | 高 | 未実施 |
| TC-PS-010 | ProjectService.deleteProject | カスケード削除 | 正常系 | 高 | 未実施 |
| TC-PS-011 | ProjectService.deleteProject | 存在しないID | 異常系 | 高 | 未実施 |
| TC-PS-012 | ProjectService.getProjectStats | 全て未完了 | 正常系 | 高 | 未実施 |
| TC-PS-013 | ProjectService.getProjectStats | 一部完了 | 正常系 | 高 | 未実施 |
| TC-PS-014 | ProjectService.getProjectStats | 全て完了 | 正常系 | 中 | 未実施 |
| TC-PS-015 | ProjectService.getProjectStats | 0件 | 境界値 | 中 | 未実施 |
| TC-PS-016 | ProjectService.getProjectStats | 進捗率切り捨て | 境界値 | 中 | 未実施 |
| TC-TS-001 | TodoService.getTodosByProjectId | 案件別取得 | 正常系 | 高 | 未実施 |
| TC-TS-002 | TodoService.getTodosByProjectId | 未分類取得 | 正常系 | 高 | 未実施 |
| TC-TS-003 | TodoService.getTodosByProjectId | 該当なし | 境界値 | 中 | 未実施 |
| TC-TS-004 | TodoService.validateDateRange | 両方null | 正常系 | 高 | 未実施 |
| TC-TS-005 | TodoService.validateDateRange | 開始日のみ | 正常系 | 中 | 未実施 |
| TC-TS-006 | TodoService.validateDateRange | 終了日のみ | 正常系 | 中 | 未実施 |
| TC-TS-007 | TodoService.validateDateRange | 開始日<終了日 | 正常系 | 高 | 未実施 |
| TC-TS-008 | TodoService.validateDateRange | 開始日=終了日 | 境界値 | 高 | 未実施 |
| TC-TS-009 | TodoService.validateDateRange | 開始日>終了日 | 異常系 | 高 | 未実施 |
| TC-TS-010 | TodoService.createTodo | 期間付き作成 | 正常系 | 高 | 未実施 |
| TC-TS-011 | TodoService.createTodo | 期間なし作成 | 正常系 | 高 | 未実施 |
| TC-TS-012 | TodoService.createTodo | 不正期間エラー | 異常系 | 高 | 未実施 |
| TC-TS-013 | TodoService.updateTodo | 期間更新 | 正常系 | 高 | 未実施 |
| TC-TS-014 | TodoService.updateTodo | 期間クリア | 正常系 | 中 | 未実施 |
| IT-PC-001 | GET /api/projects | 一覧取得 | 正常系 | 高 | 未実施 |
| IT-PC-002 | POST /api/projects | 作成成功 | 正常系 | 高 | 未実施 |
| IT-PC-003 | POST /api/projects | name未入力 | 異常系 | 高 | 未実施 |
| IT-PC-004 | GET /api/projects/{id} | 詳細取得 | 正常系 | 高 | 未実施 |
| IT-PC-005 | GET /api/projects/{id} | 存在しないID | 異常系 | 高 | 未実施 |
| IT-PC-006 | DELETE /api/projects/{id} | 削除成功 | 正常系 | 高 | 未実施 |
| IT-PC-007 | DELETE /api/projects/{id} | カスケード | 正常系 | 高 | 未実施 |
| IT-PC-008 | GET /api/projects/{id}/stats | 統計取得 | 正常系 | 高 | 未実施 |
| IT-TC-001 | GET /api/todos?projectId | 案件別取得 | 正常系 | 高 | 未実施 |
| IT-TC-002 | GET /api/todos?projectId=none | 未分類取得 | 正常系 | 高 | 未実施 |
| IT-TC-003 | POST /api/todos | 期間付き作成 | 正常系 | 高 | 未実施 |
| IT-TC-004 | POST /api/todos | 不正期間エラー | 異常系 | 高 | 未実施 |
| IT-TC-005 | PUT /api/todos/{id} | 期間更新 | 正常系 | 高 | 未実施 |

---

## 6. テストデータ

### 6.1 テストデータ一覧

| データID | 用途 | 内容 |
|---------|------|------|
| TD-001 | 案件テスト用 | name="テスト案件A", description="説明A" |
| TD-002 | 案件テスト用 | name="テスト案件B", description=null |
| TD-003 | チケットテスト用 | title="タスク1", projectId=1, startDate=2025-01-01, dueDate=2025-01-15 |
| TD-004 | チケットテスト用 | title="タスク2", projectId=null（未分類） |
| TD-005 | 日付バリデーション用 | startDate=2025-01-15, dueDate=2025-01-01（不正） |

---

## 7. テスト環境

### 7.1 必要な環境

- Java 17
- Maven
- H2 Database（テスト用インメモリモード）
- Spring Boot Test
- JUnit 5
- AssertJ
- Mockito（必要に応じて）

### 7.2 テスト実行方法

```bash
# 全テスト実行
./mvnw test

# 特定クラスのテスト実行
./mvnw test -Dtest=ProjectServiceTest
./mvnw test -Dtest=TodoServiceTest

# 結合テスト実行
./mvnw test -Dtest=*ControllerTest
```

### 7.3 テストプロファイル

```properties
# application-test.properties
spring.datasource.url=jdbc:h2:mem:testdb
spring.sql.init.mode=always
```

---

## 改版履歴

| 版数 | 日付 | 変更内容 | 変更者 |
|------|------|----------|--------|
| 1.0 | 2025-12-22 | 初版作成 | - |
