# テスト仕様書

## 案件情報

| 項目 | 内容 |
|------|------|
| 案件名 | 担当者機能追加 |
| 案件ID | 202512_担当者機能追加 |
| 作成日 | 2025-12-22 |
| 作成者 | - |
| 関連詳細設計書 | [detail-design-api.md](../detail-design-api.md), [detail-design-logic.md](../detail-design-logic.md) |

---

## 目次

- [単体テスト](./unit-tests.md) - Mapper/Service層の単体テスト
- [結合テスト](./integration-tests.md) - API結合テスト・後方互換性テスト
- [テストメタデータ](./test-metadata.md) - テストケース一覧・テストデータ・環境

---

## 1. テスト概要

### 1.1 テスト対象

| 対象 | 変更種別 | 概要 |
|------|----------|------|
| User | 新規 | ユーザーエンティティ |
| UserMapper | 新規 | ユーザーデータアクセス |
| UserService | 新規 | ユーザービジネスロジック |
| UserController | 新規 | ユーザーAPI |
| Todo | 変更 | assigneeId, assigneeNameフィールド追加 |
| TodoMapper | 変更 | ASSIGNEE_ID対応 |
| TodoService | 変更 | 担当者対応 |
| TodoController | 変更 | 担当者ID検証追加 |

### 1.2 テスト方針

| 方針 | 内容 |
|------|------|
| テストレベル | 単体テスト、結合テスト（API） |
| テストフレームワーク | JUnit 5 + AssertJ |
| DBテスト | @MybatisTest（インメモリH2） |
| APIテスト | @SpringBootTest + MockMvc |
| カバレッジ目標 | 新規コード80%以上 |

### 1.3 テスト観点

| 観点 | 説明 |
|------|------|
| 正常系 | 期待通りの入力で正しく動作すること |
| 異常系 | 不正入力・エラー時に適切に処理されること |
| 境界値 | 文字数制限等の境界条件で正しく動作すること |
| 後方互換性 | 既存のToDo機能が正常に動作すること |

---

## 改版履歴

| 版数 | 日付 | 変更内容 | 変更者 |
|------|------|----------|--------|
| 1.0 | 2025-12-22 | 初版作成 | - |
| 1.1 | 2025-12-23 | ファイル分割対応 | - |
