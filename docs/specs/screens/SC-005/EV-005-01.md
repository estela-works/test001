# EV-005-01: 初期読込

> **ドキュメント種別**: 最新仕様（継続的にメンテナンス）

## 1. 基本情報

| 項目 | 内容 |
|------|------|
| イベントID | EV-005-01 |
| イベント名 | 初期読込 |
| 画面 | SC-005: チケット一覧画面 |
| トリガー | onMounted（ページロード完了時） |

---

## 2. 処理フロー

```
1. onMounted発火
2. 並列でデータ取得
   ├── userStore.fetchUsers()
   │   └→ GET /api/users
   └── projectStore.fetchProjects()
       └→ GET /api/projects
3. URLパラメータ確認
   ├── projectId あり
   │   ├→ filter.projectId 設定
   │   └→ todoStore.fetchTodos(projectId)
   │      └→ GET /api/todos?projectId={id}
   └── projectId なし
       └→ todoStore.fetchTodos()
          └→ GET /api/todos
4. テーブル表示
```

---

## 3. 使用API

| API | メソッド | リクエスト | レスポンス |
|-----|---------|-----------|-----------|
| /api/users | GET | なし | User配列 |
| /api/projects | GET | なし | Project配列 |
| /api/todos | GET | なし | Todo配列 |
| /api/todos?projectId={id} | GET | クエリパラメータ | Todo配列（案件別） |

---

## 4. エラー処理

| エラー | 対応 |
|--------|------|
| 通信失敗 | todoStore.error にエラーメッセージ設定、画面にエラー表示 |

---

## 更新履歴

| 日付 | 変更内容 | 関連案件 |
|------|----------|----------|
| 2025-12-26 | 新規作成 | 20251226_チケット一覧画面 |
