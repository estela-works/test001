# SC-003: プロジェクト画面

> **ドキュメント種別**: 最新仕様（継続的にメンテナンス）

## 1. 画面基本情報

| 項目 | 内容 |
|------|------|
| 画面ID | SC-003 |
| 画面名 | プロジェクト画面（案件一覧） |
| パス | `/projects` |
| Vueコンポーネント | `src/frontend/src/views/ProjectView.vue` |
| 子コンポーネント | ProjectForm, ProjectCard |
| 状態管理 | Pinia (`useProjectStore`) |
| 技術スタック | Vue.js 3 (Composition API) |
| 目的 | 案件の一覧表示・作成・削除、案件別チケット管理への導線 |
| 追加案件 | 202512_プロジェクト機能追加 |
| イベント詳細 | [events.md](./events.md) |

---

## 2. レイアウト

```
┌─────────────────────────────────────────────────┐
│                    案件一覧                      │  ← ヘッダー
├─────────────────────────────────────────────────┤
│  新しい案件を作成                                │
│  [案件名入力                                ]   │  ← 追加フォーム
│  [説明入力（任意）                          ]   │
│  [作成]                                        │
├─────────────────────────────────────────────────┤
│  ┌───────────────────────────────────────────┐ │
│  │ 案件名                                     │ │
│  │ 説明                                      │ │  ← 案件カード
│  │ チケット: X件 / 完了: X件 / 進捗: X%       │ │
│  │ ████████████░░░░░░░░                     │ │  ← 進捗バー
│  │ [チケット一覧] [削除]                      │ │
│  └───────────────────────────────────────────┘ │
├─────────────────────────────────────────────────┤
│  ┌───────────────────────────────────────────┐ │
│  │ 案件なし（未分類）                         │ │  ← 未分類カード
│  │ チケット: X件 / 完了: X件                  │ │
│  │ [チケット一覧]                             │ │
│  └───────────────────────────────────────────┘ │
├─────────────────────────────────────────────────┤
│    ユーザー管理 | ← ホームに戻る                │  ← フッター
└─────────────────────────────────────────────────┘
```

---

## 3. 構成要素

| 要素ID | 要素名 | 種別 | 説明 | 機能 |
|--------|--------|------|------|------|
| E-001 | ヘッダー | テキスト | 画面タイトル表示 | - |
| E-002 | 案件名入力 | input[text] | 案件名入力欄 | 必須入力 |
| E-003 | 説明入力 | textarea | 案件説明入力欄 | 任意入力 |
| E-004 | 作成ボタン | button | 案件作成実行 | 新規作成 |
| E-005 | エラーメッセージ | div | エラー表示エリア | 5秒後自動消去 |
| E-006 | ローディング | div | 読み込み中表示 | API通信中表示 |
| E-007 | 案件カード | カード | 案件情報の表示 | チケット一覧・削除 |
| E-008 | 進捗バー | div | 完了率の視覚表示 | - |
| E-009 | 未分類カード | カード | 案件なしチケットの統計 | チケット一覧 |
| E-010 | フッター | リンク群 | ユーザー管理・ホームへのリンク | 画面遷移 |

---

## 4. 遷移

| 遷移元 | トリガー | 遷移先 |
|--------|---------|--------|
| SC-001: ホーム画面 | router-link | 本画面 |
| 本画面 | 「表示」ボタン | SC-002: ToDoリスト画面（?projectId=N） |
| 本画面 | 「ユーザー管理」リンク | SC-004: ユーザー管理画面 |
| 本画面 | 「ホームに戻る」リンク | SC-001: ホーム画面 |

---

## 5. UI状態

| 状態 | 条件 | 表示 |
|------|------|------|
| 案件あり | projects.length > 0 | 案件カード一覧表示 |
| 案件なし | projects.length === 0 | 「案件がありません」テキスト |
| ローディング中 | API通信中 | 「読み込み中...」テキスト |
| エラー発生時 | API失敗 | 赤背景のエラーメッセージ（5秒後自動消去） |

---

## 6. フォーム仕様

### 6.1 案件追加フォーム

| 項目 | 要素ID | 入力タイプ | 必須 | placeholder |
|------|--------|-----------|------|-------------|
| 案件名 | E-002 | text | 必須 | 「案件名を入力してください」 |
| 説明 | E-003 | textarea | 任意 | 「説明を入力してください（オプション）」 |

### 6.2 フォーム動作

| 操作 | トリガー |
|------|---------|
| 作成 | 作成ボタンクリック or Enterキー（案件名入力欄） |
| 完了後 | フォームクリア、リスト再読込 |

---

## 7. ボタン仕様

### 7.1 案件カードボタン

| ボタン | 動作 | 確認ダイアログ |
|--------|------|--------------|
| チケット一覧 | ToDoリスト画面へ遷移（projectId付き） | なし |
| 削除 | 案件を削除 | あり（「配下のチケットもすべて削除されます」） |

### 7.2 未分類カードボタン

| ボタン | 動作 | 確認ダイアログ |
|--------|------|--------------|
| チケット一覧 | ToDoリスト画面へ遷移（projectId=none） | なし |

---

## 8. 使用API

| 操作 | API | メソッド | 関連イベント |
|------|-----|---------|-------------|
| 案件一覧取得 | /api/projects | GET | EV-003-01 |
| 案件統計取得 | /api/projects/{id}/stats | GET | EV-003-01 |
| 案件作成 | /api/projects | POST | EV-003-02 |
| 案件削除 | /api/projects/{id} | DELETE | EV-003-03 |
| 未分類チケット取得 | /api/todos?projectId=none | GET | EV-003-01 |

---

## 9. イベント一覧

詳細は [events.md](./events.md) を参照。

| イベントID | イベント名 | トリガー | 処理概要 |
|-----------|-----------|---------|---------|
| EV-003-01 | 初期読込 | ページロード | 案件一覧・統計を取得して表示 |
| EV-003-02 | 案件作成 | 作成ボタン/Enter | 新規案件を作成 |
| EV-003-03 | 案件削除 | 削除ボタン | 案件を削除 |
| EV-003-04 | チケット一覧遷移 | チケット一覧ボタン | ToDoリスト画面へ遷移 |
| EV-003-05 | ユーザー管理遷移 | ユーザー管理リンク | ユーザー管理画面へ遷移 |
| EV-003-06 | ホーム遷移 | フッターリンク | ホーム画面へ遷移 |

---

## 更新履歴

| 日付 | 変更内容 | 関連案件 |
|------|----------|----------|
| 2025-12-24 | Vue.js 3 移行（ProjectView.vue + 子コンポーネント） | 202512_Vue.js移行 |
| 2025-12-23 | 初版作成 | 202512_プロジェクト機能追加 |
