# EV-002-05: 完了状態切替

> **ドキュメント種別**: 最新仕様（継続的にメンテナンス）

## 1. 基本情報

| 項目 | 内容 |
|------|------|
| イベントID | EV-002-05 |
| イベント名 | 完了状態切替 |
| 画面 | SC-002: ToDoリスト画面 |
| トリガー | ToDoカードの「完了にする」/「未完了にする」ボタン |

---

## 2. 処理フロー

```
1. 完了/未完了ボタンクリック
2. 対象ToDoのIDを取得
3. PATCH /api/todos/{id}/toggle
4. 成功時
   ├→ 現在のフィルタ状態を維持してリスト再取得
   └→ loadStats() で統計更新
```

---

## 3. 使用API

| API | メソッド | リクエスト | レスポンス |
|-----|---------|-----------|-----------|
| /api/todos/{id}/toggle | PATCH | なし | 更新されたToDo |

---

## 4. UI変更

| 変更前 | 変更後 |
|--------|--------|
| 未完了（通常表示） | 完了（グレー背景、取消線、透明度70%） |
| 完了 | 未完了（通常表示） |

---

## 更新履歴

| 日付 | 変更内容 | 関連案件 |
|------|----------|----------|
| 2025-12-22 | 新規作成 | - |
