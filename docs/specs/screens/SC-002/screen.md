# SC-002: ToDoリスト画面

> **ドキュメント種別**: 最新仕様（継続的にメンテナンス）

## 1. 画面基本情報

| 項目 | 内容 |
|------|------|
| 画面ID | SC-002 |
| 画面名 | ToDoリスト画面 |
| パス | `/todos.html` |
| ファイル | `src/main/resources/static/todos.html` |
| 目的 | ToDo管理のメイン機能を提供 |
| 追加案件 | 初期構築 |
| イベント詳細 | [events.md](./events.md) |

---

## 2. レイアウト

```
┌─────────────────────────────────────────────────┐
│                   📝 ToDoリスト                  │  ← ヘッダー
├─────────────────────────────────────────────────┤
│         総数: X   完了: X   未完了: X            │  ← 統計エリア
├─────────────────────────────────────────────────┤
│  新しいToDoを追加                                │
│  [タイトル入力                              ]   │  ← 追加フォーム
│  [説明入力（任意）                          ]   │
│  [追加]                                        │
├─────────────────────────────────────────────────┤
│       [すべて] [未完了] [完了済み]               │  ← フィルタボタン
├─────────────────────────────────────────────────┤
│  ┌───────────────────────────────────────────┐ │
│  │ タイトル                                   │ │
│  │ 説明                                      │ │  ← ToDoカード
│  │ 作成日: YYYY/MM/DD                        │ │
│  │ [完了にする] [削除]                        │ │
│  └───────────────────────────────────────────┘ │
├─────────────────────────────────────────────────┤
│               ← ホームに戻る                    │  ← フッター
└─────────────────────────────────────────────────┘
```

---

## 3. 構成要素

| 要素ID | 要素名 | 種別 | 説明 | 機能 |
|--------|--------|------|------|------|
| E-001 | ヘッダー | テキスト | 画面タイトル表示 | - |
| E-002 | 統計エリア | 表示エリア | 総数/完了数/未完了数を表示 | 自動更新 |
| E-003 | タイトル入力 | input[text] | タスクタイトル入力欄 | 必須入力 |
| E-004 | 説明入力 | input[text] | タスク説明入力欄 | 任意入力 |
| E-005 | 追加ボタン | button | ToDo追加実行 | 新規作成 |
| E-006 | フィルタボタン群 | button群 | すべて/未完了/完了済み | 表示切替 |
| E-007 | ToDoカード | カード | ToDo情報の表示 | 完了切替・削除 |
| E-008 | フッター | リンク | ホームへのリンク | 画面遷移 |

---

## 4. 遷移

| 遷移元 | トリガー | 遷移先 |
|--------|---------|--------|
| SC-001: ホーム画面 | リンククリック | 本画面 |
| 本画面 | ホームリンククリック | SC-001: ホーム画面 |

---

## 5. UI状態

| 状態 | 条件 | 表示 |
|------|------|------|
| 未完了ToDo | completed = false | 通常表示 |
| 完了ToDo | completed = true | 背景グレー、取消線、透明度70% |
| ローディング中 | API通信中 | 「読み込み中...」テキスト |
| エラー発生時 | API失敗 | 赤背景のエラーメッセージ（5秒後に自動消去） |

---

## 6. フォーム仕様

### 6.1 ToDo追加フォーム

| 項目 | 要素ID | 入力タイプ | 必須 | placeholder |
|------|--------|-----------|------|-------------|
| タイトル | E-003 | text | 必須 | 「タイトルを入力してください」 |
| 説明 | E-004 | text | 任意 | 「説明を入力してください（オプション）」 |

### 6.2 フォーム動作

| 操作 | トリガー |
|------|---------|
| 追加 | 追加ボタンクリック or Enterキー |
| 完了後 | フォームクリア、リスト更新、統計更新 |

---

## 7. ボタン仕様

### 7.1 フィルタボタン

| ボタン | 動作 | 初期状態 |
|--------|------|---------|
| すべて | 全件表示 | アクティブ |
| 未完了 | 未完了のみ | - |
| 完了済み | 完了のみ | - |

### 7.2 ToDoカードボタン

| ボタン | 動作 | 確認ダイアログ |
|--------|------|--------------|
| 完了にする / 未完了にする | 完了状態をトグル | なし |
| 削除 | ToDoを削除 | あり |

---

## 8. 使用API

| 操作 | API | メソッド | 関連イベント |
|------|-----|---------|-------------|
| 一覧取得 | /api/todos | GET | EV-002-01 |
| フィルタ取得 | /api/todos?completed={bool} | GET | EV-002-04 |
| 統計取得 | /api/todos/stats | GET | EV-002-02 |
| 新規作成 | /api/todos | POST | EV-002-03 |
| 完了切替 | /api/todos/{id}/toggle | PATCH | EV-002-05 |
| 削除 | /api/todos/{id} | DELETE | EV-002-06 |

---

## 9. イベント一覧

詳細は [events.md](./events.md) を参照。

| イベントID | イベント名 | トリガー | 処理概要 |
|-----------|-----------|---------|---------|
| EV-002-01 | 初期読込 | ページロード | ToDo一覧・統計を取得して表示 |
| EV-002-02 | 統計更新 | データ変更後 | 統計情報を再取得して表示 |
| EV-002-03 | ToDo追加 | 追加ボタン/Enter | 新規ToDoを作成 |
| EV-002-04 | フィルタ切替 | フィルタボタン | 表示するToDoをフィルタ |
| EV-002-05 | 完了状態切替 | 完了/未完了ボタン | 完了状態をトグル |
| EV-002-06 | ToDo削除 | 削除ボタン | ToDoを削除 |
| EV-002-07 | ホーム遷移 | フッターリンク | ホーム画面へ遷移 |

---

## 更新履歴

| 日付 | 変更内容 | 関連案件 |
|------|----------|----------|
| 2025-12-22 | 画面詳細として分離、イベント別ファイル化 | - |
| 2025-12-22 | 初版作成 | 初期構築 |
