# SC-004: ユーザー管理画面

> **ドキュメント種別**: 最新仕様（継続的にメンテナンス）

## 1. 画面基本情報

| 項目 | 内容 |
|------|------|
| 画面ID | SC-004 |
| 画面名 | ユーザー管理画面 |
| パス | `/users.html` |
| ファイル | `src/main/resources/static/users.html` |
| 目的 | ユーザーの一覧表示・登録・削除 |
| 追加案件 | 202512_担当者機能追加 |
| イベント詳細 | [events.md](./events.md) |

---

## 2. レイアウト

```
┌─────────────────────────────────────────────────┐
│                  ユーザー管理                    │  ← ヘッダー
├─────────────────────────────────────────────────┤
│           登録ユーザー数: X人                    │  ← 統計エリア
├─────────────────────────────────────────────────┤
│  新しいユーザーを追加                            │
│  [ユーザー名入力                            ]   │  ← 追加フォーム
│  [追加]                                        │
├─────────────────────────────────────────────────┤
│  ┌───────────────────────────────────────────┐ │
│  │ ユーザー名                    [削除]       │ │  ← ユーザーカード
│  │ 登録日: YYYY/MM/DD HH:MM:SS               │ │
│  └───────────────────────────────────────────┘ │
├─────────────────────────────────────────────────┤
│               ← 案件一覧に戻る                  │  ← フッター
└─────────────────────────────────────────────────┘
```

---

## 3. 構成要素

| 要素ID | 要素名 | 種別 | 説明 | 機能 |
|--------|--------|------|------|------|
| E-001 | ヘッダー | テキスト | 画面タイトル表示 | - |
| E-002 | 統計エリア | 表示エリア | 登録ユーザー数を表示 | 自動更新 |
| E-003 | ユーザー名入力 | input[text] | ユーザー名入力欄 | 必須入力、最大100文字 |
| E-004 | 追加ボタン | button | ユーザー追加実行 | 新規登録 |
| E-005 | エラーメッセージ | div | エラー表示エリア | 5秒後自動消去 |
| E-006 | ローディング | div | 読み込み中表示 | API通信中表示 |
| E-007 | ユーザーカード | カード | ユーザー情報の表示 | 削除 |
| E-008 | フッター | リンク | 案件一覧へのリンク | 画面遷移 |

---

## 4. 遷移

| 遷移元 | トリガー | 遷移先 |
|--------|---------|--------|
| SC-003: プロジェクト画面 | リンククリック | 本画面 |
| 本画面 | 案件一覧リンククリック | SC-003: プロジェクト画面 |

---

## 5. UI状態

| 状態 | 条件 | 表示 |
|------|------|------|
| ユーザーあり | users.length > 0 | ユーザーカード一覧表示 |
| ユーザーなし | users.length === 0 | 「ユーザーが登録されていません。」テキスト |
| ローディング中 | API通信中 | 「読み込み中...」テキスト |
| エラー発生時 | API失敗 | 赤背景のエラーメッセージ（5秒後自動消去） |

---

## 6. フォーム仕様

### 6.1 ユーザー追加フォーム

| 項目 | 要素ID | 入力タイプ | 必須 | 最大文字数 | placeholder |
|------|--------|-----------|------|-----------|-------------|
| ユーザー名 | E-003 | text | 必須 | 100 | 「ユーザー名を入力してください」 |

### 6.2 フォーム動作

| 操作 | トリガー |
|------|---------|
| 追加 | 追加ボタンクリック or Enterキー |
| 完了後 | フォームクリア、リスト再読込、統計更新 |

---

## 7. ボタン仕様

### 7.1 ユーザーカードボタン

| ボタン | 動作 | 確認ダイアログ |
|--------|------|--------------|
| 削除 | ユーザーを削除 | あり（「担当中のチケットは「未割当」になります」） |

---

## 8. 使用API

| 操作 | API | メソッド | 関連イベント |
|------|-----|---------|-------------|
| 一覧取得 | /api/users | GET | EV-004-01 |
| 新規作成 | /api/users | POST | EV-004-02 |
| 削除 | /api/users/{id} | DELETE | EV-004-03 |

---

## 9. イベント一覧

詳細は [events.md](./events.md) を参照。

| イベントID | イベント名 | トリガー | 処理概要 |
|-----------|-----------|---------|---------|
| EV-004-01 | 初期読込 | ページロード | ユーザー一覧を取得して表示 |
| EV-004-02 | ユーザー追加 | 追加ボタン/Enter | 新規ユーザーを登録 |
| EV-004-03 | ユーザー削除 | 削除ボタン | ユーザーを削除 |
| EV-004-04 | 案件一覧遷移 | フッターリンク | プロジェクト画面へ遷移 |

---

## 更新履歴

| 日付 | 変更内容 | 関連案件 |
|------|----------|----------|
| 2025-12-23 | 初版作成 | 202512_担当者機能追加 |
