# Mapper層テストケース

[← 目次に戻る](./README.md)

---

## 1. TodoMapper テストケース

> **ファイル**: `src/test/java/com/example/demo/TodoMapperTest.java`

### 1.1 selectAll()

| ID | テストケース | 分類 | 期待結果 |
|----|-------------|------|----------|
| M-001 | 全件取得（ソート確認） | 正常系 | 作成日時順で全件返却 |

### 1.2 selectById()

| ID | テストケース | 分類 | 期待結果 |
|----|-------------|------|----------|
| M-002 | 存在するIDで取得 | 正常系 | 該当Todoが返却 |
| M-003 | 存在しないIDで取得 | 異常系 | nullが返却 |

### 1.3 selectByCompleted()

| ID | テストケース | 分類 | 期待結果 |
|----|-------------|------|----------|
| M-004 | completed=trueで完了のみ取得 | 正常系 | 完了済みのみ返却 |
| M-005 | completed=falseで未完了のみ取得 | 正常系 | 未完了のみ返却 |

### 1.4 insert()

| ID | テストケース | 分類 | 期待結果 |
|----|-------------|------|----------|
| M-006 | 新規登録（ID自動採番） | 正常系 | IDが自動設定 |
| M-007 | description=nullで正常に挿入 | 正常系 | 正常に挿入 |

### 1.5 update()

| ID | テストケース | 分類 | 期待結果 |
|----|-------------|------|----------|
| M-008 | 既存Todoを更新 | 正常系 | 各フィールドが更新 |
| M-009 | 存在しないIDで更新（影響なし） | 正常系 | エラーなく完了 |

### 1.6 deleteById()

| ID | テストケース | 分類 | 期待結果 |
|----|-------------|------|----------|
| M-010 | 存在するIDを削除 | 正常系 | 件数減少 |
| M-011 | 存在しないIDで削除（影響なし） | 正常系 | 件数変化なし |

### 1.7 deleteAll()

| ID | テストケース | 分類 | 期待結果 |
|----|-------------|------|----------|
| M-012 | 全件削除 | 正常系 | 0件になる |

### 1.8 count()

| ID | テストケース | 分類 | 期待結果 |
|----|-------------|------|----------|
| M-013 | 件数取得 | 正常系 | 正確な件数が返却 |

### 1.9 countByCompleted()

| ID | テストケース | 分類 | 期待結果 |
|----|-------------|------|----------|
| M-014 | 完了件数取得 | 正常系 | 完了件数が返却 |
| M-015 | 未完了件数取得 | 正常系 | 未完了件数が返却 |

### 1.10 担当者関連

| ID | テストケース | 分類 | 期待結果 |
|----|-------------|------|----------|
| TC-M10 | 担当者名が取得できる | 正常系 | assigneeNameが返却 |
| TC-M11 | 担当者未設定でnull | 正常系 | assigneeName=null |
| TC-M12 | 担当者ID付き登録 | 正常系 | 正常に登録 |
| TC-M13 | 担当者変更 | 正常系 | 新担当者に更新 |
| TC-M13b | 担当者解除 | 境界値 | assigneeId=null |

---

## 2. UserMapper テストケース

> **ファイル**: `src/test/java/com/example/demo/UserMapperTest.java`

### 2.1 selectAll()

| ID | テストケース | 分類 | 期待結果 |
|----|-------------|------|----------|
| TC-M01 | データありで全ユーザー取得 | 正常系 | 作成日時順で返却 |
| TC-M02 | データなしで空リスト | 正常系 | 空リスト返却 |

### 2.2 selectById()

| ID | テストケース | 分類 | 期待結果 |
|----|-------------|------|----------|
| TC-M03 | 存在するIDで取得 | 正常系 | 該当User返却 |
| TC-M04 | 存在しないIDで取得 | 異常系 | null返却 |

### 2.3 selectByName()

| ID | テストケース | 分類 | 期待結果 |
|----|-------------|------|----------|
| TC-M05 | 存在する名前で取得 | 正常系 | 該当User返却 |
| TC-M05b | 存在しない名前で取得 | 正常系 | null返却 |

### 2.4 insert()

| ID | テストケース | 分類 | 期待結果 |
|----|-------------|------|----------|
| TC-M06 | 正常なユーザー挿入 | 正常系 | ID自動採番 |

### 2.5 deleteById()

| ID | テストケース | 分類 | 期待結果 |
|----|-------------|------|----------|
| TC-M07 | 既存ユーザー削除 | 正常系 | 削除成功 |
| TC-M07b | 存在しないIDで削除 | 正常系 | 影響なし |

### 2.6 count()

| ID | テストケース | 分類 | 期待結果 |
|----|-------------|------|----------|
| TC-M07c | 件数取得 | 正常系 | 正確な件数 |

---

[← 目次に戻る](./README.md)
