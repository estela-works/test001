# ToDo管理画面 テストシナリオ

## 対象画面
- 画面ID: SCR-TODOS-001
- 画面名: ToDo管理画面
- 画面仕様: ../screen-spec/todos-screen.json

---

## TC-001: 画面初期表示確認

### 前提条件
- なし

### 手順
1. [開く] /todos.html
2. [待機] #loading が非表示になる

### 期待結果
- 統計表示エリア（総数/完了/未完了）が表示される
- 新規ToDo追加フォームが表示される
- フィルタボタン（すべて/未完了/完了済み）が表示される
- 「すべて」ボタンがアクティブ状態である

---

## TC-010: ToDo追加（正常系・最小入力）

### 前提条件
- ToDo管理画面を開いている

### 手順
1. [入力] #title-input に「テストタスク」を入力
2. [クリック] .add-todo button

### 期待結果
- 入力欄がクリアされる
- ToDoリストに「テストタスク」が追加される
- 統計の総数が1増加する

---

## TC-011: ToDo追加（正常系・全項目入力）

### 前提条件
- ToDo管理画面を開いている
- ユーザーが1名以上登録されている

### 手順
1. [入力] #title-input に「詳細タスク」を入力
2. [入力] #description-input に「これはテスト用の説明です」を入力
3. [入力] #start-date-input に「2025-01-01」を入力
4. [入力] #due-date-input に「2025-01-31」を入力
5. [選択] #assignee-input で最初のユーザーを選択
6. [クリック] .add-todo button

### 期待結果
- ToDoリストに「詳細タスク」が追加される
- 説明、期間、担当者が正しく表示される

---

## TC-012: ToDo追加（Enterキー）

### 前提条件
- ToDo管理画面を開いている

### 手順
1. [入力] #title-input に「Enterテストタスク」を入力
2. [キー押下] Enter キー

### 期待結果
- 入力欄がクリアされる
- ToDoリストに「Enterテストタスク」が追加される

---

## TC-020: ToDo完了切り替え（未完了→完了）

### 前提条件
- ToDo管理画面を開いている
- 未完了のToDoが1件以上存在する

### 手順
1. [クリック] .todo-item:first-of-type .toggle-btn

### 期待結果
- ToDoアイテムに completed クラスが付与される
- ボタンテキストが「未完了にする」に変わる
- 統計の完了数が1増加、未完了数が1減少

---

## TC-021: ToDo完了切り替え（完了→未完了）

### 前提条件
- ToDo管理画面を開いている
- 完了済みのToDoが1件以上存在する

### 手順
1. [クリック] .todo-item.completed:first-of-type .toggle-btn

### 期待結果
- ToDoアイテムから completed クラスが除去される
- ボタンテキストが「完了にする」に変わる
- 統計の完了数が1減少、未完了数が1増加

---

## TC-030: ToDo削除（確認OK）

### 前提条件
- ToDo管理画面を開いている
- ToDoが1件以上存在する

### 手順
1. [クリック] .todo-item:first-of-type .delete-btn
2. [ダイアログ] 確認ダイアログで「OK」を選択

### 期待結果
- ToDoアイテムがリストから削除される
- 統計の総数が1減少する

---

## TC-031: ToDo削除（確認キャンセル）

### 前提条件
- ToDo管理画面を開いている
- ToDoが1件以上存在する

### 手順
1. [クリック] .todo-item:first-of-type .delete-btn
2. [ダイアログ] 確認ダイアログで「キャンセル」を選択

### 期待結果
- ToDoアイテムは削除されない
- 統計は変化しない

---

## TC-040: フィルタ機能（未完了のみ表示）

### 前提条件
- ToDo管理画面を開いている
- 完了・未完了のToDoがそれぞれ1件以上存在する

### 手順
1. [クリック] #pending-btn

### 期待結果
- #pending-btn に active クラスが付与される
- 未完了のToDoのみ表示される
- 完了済みのToDoは非表示

---

## TC-041: フィルタ機能（完了済みのみ表示）

### 前提条件
- ToDo管理画面を開いている
- 完了・未完了のToDoがそれぞれ1件以上存在する

### 手順
1. [クリック] #completed-btn

### 期待結果
- #completed-btn に active クラスが付与される
- 完了済みのToDoのみ表示される
- 未完了のToDoは非表示

---

## TC-042: フィルタ機能（すべて表示に戻す）

### 前提条件
- ToDo管理画面を開いている
- フィルタが適用されている（未完了または完了済み）

### 手順
1. [クリック] #all-btn

### 期待結果
- #all-btn に active クラスが付与される
- すべてのToDoが表示される

---

## TC-100: バリデーション（タイトル未入力）

### 前提条件
- ToDo管理画面を開いている

### 手順
1. [クリック] .add-todo button（タイトル未入力のまま）

### 期待結果
- エラーメッセージ「タイトルを入力してください。」が表示される
- ToDoは追加されない

---

## TC-101: バリデーション（日付範囲不正）

### 前提条件
- ToDo管理画面を開いている

### 手順
1. [入力] #title-input に「日付テスト」を入力
2. [入力] #start-date-input に「2025-12-31」を入力
3. [入力] #due-date-input に「2025-01-01」を入力
4. [クリック] .add-todo button

### 期待結果
- エラーメッセージ「終了日は開始日以降を指定してください。」が表示される
- ToDoは追加されない

---

## TC-200: 案件別ToDo表示

### 前提条件
- 案件が1件以上存在する
- 案件に紐づくToDoが1件以上存在する

### 手順
1. [開く] /todos.html?projectId={案件ID}
2. [待機] #loading が非表示になる

### 期待結果
- 案件名が画面上部に表示される
- 該当案件のToDoのみ表示される

---

## TC-201: 案件なしToDo表示

### 前提条件
- 案件に紐づかないToDoが1件以上存在する

### 手順
1. [開く] /todos.html?projectId=none
2. [待機] #loading が非表示になる

### 期待結果
- 「案件なし（未分類）」が画面上部に表示される
- 案件に紐づかないToDoのみ表示される

---

## TC-300: 画面遷移（案件一覧へ戻る）

### 前提条件
- ToDo管理画面を開いている

### 手順
1. [クリック] .back-link a

### 期待結果
- URLが /projects.html に変わる
- 案件一覧画面が表示される
