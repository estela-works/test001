# 案件一覧画面 テストシナリオ

## 対象画面
- 画面ID: SCR-PROJECTS-001
- 画面名: 案件一覧画面
- 画面仕様: ../screen-spec/projects-screen.json

---

## TC-001: 画面初期表示確認

### 前提条件
- なし

### 手順
1. [開く] /projects.html
2. [待機] #loading が非表示になる

### 期待結果
- 案件作成フォームが表示される
- 「案件なし」カードが表示される
- ユーザー管理リンクが表示される
- ホームに戻るリンクが表示される

---

## TC-010: 案件作成（正常系・最小入力）

### 前提条件
- 案件一覧画面を開いている

### 手順
1. [入力] #project-name-input に「テスト案件」を入力
2. [クリック] #add-project-btn

### 期待結果
- 入力欄がクリアされる
- 案件リストに「テスト案件」が追加される
- 進捗バーが0%で表示される

---

## TC-011: 案件作成（正常系・全項目入力）

### 前提条件
- 案件一覧画面を開いている

### 手順
1. [入力] #project-name-input に「詳細テスト案件」を入力
2. [入力] #project-description-input に「テスト用の案件説明です」を入力
3. [クリック] #add-project-btn

### 期待結果
- 案件リストに「詳細テスト案件」が追加される
- 説明「テスト用の案件説明です」が表示される

---

## TC-012: 案件作成（Enterキー）

### 前提条件
- 案件一覧画面を開いている

### 手順
1. [入力] #project-name-input に「Enterテスト案件」を入力
2. [キー押下] Enter キー

### 期待結果
- 入力欄がクリアされる
- 案件リストに「Enterテスト案件」が追加される

---

## TC-020: チケット一覧への遷移

### 前提条件
- 案件一覧画面を開いている
- 案件が1件以上存在する

### 手順
1. [クリック] .project-card:first-of-type .view-btn

### 期待結果
- URLが /todos.html?projectId={id} に変わる
- ToDo管理画面が表示される
- 案件名が画面上部に表示される

---

## TC-021: 案件なしチケット一覧への遷移

### 前提条件
- 案件一覧画面を開いている

### 手順
1. [クリック] #no-project-card .view-btn

### 期待結果
- URLが /todos.html?projectId=none に変わる
- ToDo管理画面が表示される
- 「案件なし（未分類）」と表示される

---

## TC-030: 案件削除（確認OK）

### 前提条件
- 案件一覧画面を開いている
- 案件が1件以上存在する

### 手順
1. [クリック] .project-card:first-of-type .delete-btn
2. [ダイアログ] 確認ダイアログで「OK」を選択

### 期待結果
- 案件がリストから削除される
- 配下のチケットも削除される

---

## TC-031: 案件削除（確認キャンセル）

### 前提条件
- 案件一覧画面を開いている
- 案件が1件以上存在する

### 手順
1. [クリック] .project-card:first-of-type .delete-btn
2. [ダイアログ] 確認ダイアログで「キャンセル」を選択

### 期待結果
- 案件は削除されない

---

## TC-040: 進捗表示の確認

### 前提条件
- 案件一覧画面を開いている
- 案件が1件存在し、チケットが2件（うち1件完了）存在する

### 手順
1. [確認] .project-card .stats を確認
2. [確認] .progress-bar .progress を確認

### 期待結果
- 統計に「チケット: 2件 / 完了: 1件 / 進捗: 50%」と表示される
- 進捗バーが50%の位置まで表示される

---

## TC-100: バリデーション（案件名未入力）

### 前提条件
- 案件一覧画面を開いている

### 手順
1. [クリック] #add-project-btn（案件名未入力のまま）

### 期待結果
- エラーメッセージ「案件名を入力してください。」が表示される
- 案件は作成されない

---

## TC-200: 画面遷移（ユーザー管理へ）

### 前提条件
- 案件一覧画面を開いている

### 手順
1. [クリック] a[href='/users.html']

### 期待結果
- URLが /users.html に変わる
- ユーザー管理画面が表示される

---

## TC-201: 画面遷移（ホームへ戻る）

### 前提条件
- 案件一覧画面を開いている

### 手順
1. [クリック] a[href='/']

### 期待結果
- URLが / に変わる
- ホーム画面が表示される
